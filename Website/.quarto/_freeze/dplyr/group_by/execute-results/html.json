{
  "hash": "aec38671cdc05d3d48199988ca1ed953",
  "result": {
    "markdown": "---\ntitle: \"Group by\"\n---\n\n\n<center>\n![](images/dplyr_group_by.png){style=\"width:200px\"}\n</center>\n\nThe function `group_by()` converts a __tibble__ into a grouped __tbl__.\nThe grouping is based on one or more specified columns/variables.\n\nThis allows you to carry out various functions in a groupwise manner.\nThese functions are covered in other pages in this section.\n\n[Tidyverse reference page](https://dplyr.tidyverse.org//reference/group_by.html)\n\n## Dataset\n\nFor demonstration we'll load the `amphibian_div_tbl` data from the [mgrtibbles package](/datasets/mgrtibbles.qmd) (hyperlink includes install instructions).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load package\nlibrary(\"mgrtibbles\")\n#amphibian_div_tbl tibble for demonstration\nmgrtibbles::amphibian_div_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 138 × 15\n   Species                  IUCN.Red.List.Status iucn_2cat Order   Family  Genus\n   <chr>                    <fct>                <fct>     <chr>   <chr>   <chr>\n 1 Acris blanchardi         <NA>                 <NA>      Anura   Hylidae Acris\n 2 Acris crepitans          Least Concern (LC)   LC        Anura   Hylidae Acris\n 3 Acris gryllus            Least Concern (LC)   LC        Anura   Hylidae Acris\n 4 Ambystoma barbouri       Near Threatened (NT) nonLC     Caudata Ambyst… Amby…\n 5 Ambystoma jeffersonianum Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 6 Ambystoma laterale       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 7 Ambystoma macrodactylum  Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 8 Ambystoma maculatum      Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 9 Ambystoma texanum        Least Concern (LC)   LC        Caudata Ambyst… Amby…\n10 Ambystoma tigrinum       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n# ℹ 128 more rows\n# ℹ 9 more variables: Age_at_maturity_min_y <dbl>, Age_at_maturity_max_y <dbl>,\n#   Body_size_mm <dbl>, Longevity_max_y <dbl>, Litter_size_min_n <dbl>,\n#   Litter_size_max_n <dbl>, Offspring_size_min_mm <dbl>,\n#   Offspring_size_max_mm <fct>, Development <chr>\n```\n:::\n:::\n\n\n## One variable/column\n\nGroup by one variable/column.\n\nThe grouped __tibble's__ second top line of info states the grouping and the number of different items in the group (`[]`).\n\n\n::: {.cell}\n\n```{.r .cell-code}\namphibian_div_tbl |> dplyr::group_by(IUCN.Red.List.Status)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 138 × 15\n# Groups:   IUCN.Red.List.Status [7]\n   Species                  IUCN.Red.List.Status iucn_2cat Order   Family  Genus\n   <chr>                    <fct>                <fct>     <chr>   <chr>   <chr>\n 1 Acris blanchardi         <NA>                 <NA>      Anura   Hylidae Acris\n 2 Acris crepitans          Least Concern (LC)   LC        Anura   Hylidae Acris\n 3 Acris gryllus            Least Concern (LC)   LC        Anura   Hylidae Acris\n 4 Ambystoma barbouri       Near Threatened (NT) nonLC     Caudata Ambyst… Amby…\n 5 Ambystoma jeffersonianum Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 6 Ambystoma laterale       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 7 Ambystoma macrodactylum  Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 8 Ambystoma maculatum      Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 9 Ambystoma texanum        Least Concern (LC)   LC        Caudata Ambyst… Amby…\n10 Ambystoma tigrinum       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n# ℹ 128 more rows\n# ℹ 9 more variables: Age_at_maturity_min_y <dbl>, Age_at_maturity_max_y <dbl>,\n#   Body_size_mm <dbl>, Longevity_max_y <dbl>, Litter_size_min_n <dbl>,\n#   Litter_size_max_n <dbl>, Offspring_size_min_mm <dbl>,\n#   Offspring_size_max_mm <fct>, Development <chr>\n```\n:::\n:::\n\n\n## Multiple variables/columns into one group\n\nGroup using multiple columns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\namphibian_dv_lineage_group_tbl <- amphibian_div_tbl |> dplyr::group_by(Order, Family, Genus)\namphibian_dv_lineage_group_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 138 × 15\n# Groups:   Order, Family, Genus [26]\n   Species                  IUCN.Red.List.Status iucn_2cat Order   Family  Genus\n   <chr>                    <fct>                <fct>     <chr>   <chr>   <chr>\n 1 Acris blanchardi         <NA>                 <NA>      Anura   Hylidae Acris\n 2 Acris crepitans          Least Concern (LC)   LC        Anura   Hylidae Acris\n 3 Acris gryllus            Least Concern (LC)   LC        Anura   Hylidae Acris\n 4 Ambystoma barbouri       Near Threatened (NT) nonLC     Caudata Ambyst… Amby…\n 5 Ambystoma jeffersonianum Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 6 Ambystoma laterale       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 7 Ambystoma macrodactylum  Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 8 Ambystoma maculatum      Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 9 Ambystoma texanum        Least Concern (LC)   LC        Caudata Ambyst… Amby…\n10 Ambystoma tigrinum       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n# ℹ 128 more rows\n# ℹ 9 more variables: Age_at_maturity_min_y <dbl>, Age_at_maturity_max_y <dbl>,\n#   Body_size_mm <dbl>, Longevity_max_y <dbl>, Litter_size_min_n <dbl>,\n#   Litter_size_max_n <dbl>, Offspring_size_min_mm <dbl>,\n#   Offspring_size_max_mm <fct>, Development <chr>\n```\n:::\n:::\n\n\n## Ungroup\n\nIf required you can remove the grouping from a __tibble__ with `dplyr::ungroup()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\namphibian_dv_lineage_group_tbl |> dplyr::ungroup()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 138 × 15\n   Species                  IUCN.Red.List.Status iucn_2cat Order   Family  Genus\n   <chr>                    <fct>                <fct>     <chr>   <chr>   <chr>\n 1 Acris blanchardi         <NA>                 <NA>      Anura   Hylidae Acris\n 2 Acris crepitans          Least Concern (LC)   LC        Anura   Hylidae Acris\n 3 Acris gryllus            Least Concern (LC)   LC        Anura   Hylidae Acris\n 4 Ambystoma barbouri       Near Threatened (NT) nonLC     Caudata Ambyst… Amby…\n 5 Ambystoma jeffersonianum Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 6 Ambystoma laterale       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 7 Ambystoma macrodactylum  Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 8 Ambystoma maculatum      Least Concern (LC)   LC        Caudata Ambyst… Amby…\n 9 Ambystoma texanum        Least Concern (LC)   LC        Caudata Ambyst… Amby…\n10 Ambystoma tigrinum       Least Concern (LC)   LC        Caudata Ambyst… Amby…\n# ℹ 128 more rows\n# ℹ 9 more variables: Age_at_maturity_min_y <dbl>, Age_at_maturity_max_y <dbl>,\n#   Body_size_mm <dbl>, Longevity_max_y <dbl>, Litter_size_min_n <dbl>,\n#   Litter_size_max_n <dbl>, Offspring_size_min_mm <dbl>,\n#   Offspring_size_max_mm <fct>, Development <chr>\n```\n:::\n:::",
    "supporting": [
      "group_by_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}