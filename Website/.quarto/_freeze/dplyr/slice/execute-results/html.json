{
  "hash": "c37d4f74587ebe834ae1b8f6bfa56dce",
  "result": {
    "markdown": "---\ntitle: \"Slice\"\n---\n\n\n<center>\n![](images/dplyr_slice.png){style=\"width:200px\"}\n</center>\n\nThe `dplyr:slice()` function can be used to subset row.\n\nTheir are multiple slice commands:\n\n- `slice()`: Index rows by numeric index location.\n- `slice_head()`: Select rows from the top of the __tibble__.\n- `slice_tail()`: Select rows from the bottom of the __tibble__.\n- `slice_sample()`: Randomly select rows.\n- `slice_min()`: Select rows with smallest values of variable.\n- `slice_max()`: Select rows with largest values of a variable.\n\n[Tidyverse reference page](https://dplyr.tidyverse.org//reference/slice.html)\n\n## Dataset\n\nFor demonstration we'll load the `knz_bison` data from the [lterdatasampler package](/datasets/lterdatasampler.qmd) (hyperlink includes install instructions).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load package\nlibrary(\"lterdatasampler\")\n#knz_bison tibble for demonstration\nbison_tbl <- lterdatasampler::knz_bison |>\n    #Convert to tibble\n    tibble::as_tibble()\nbison_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8,325 × 8\n   data_code rec_year rec_month rec_day animal_code animal_sex animal_weight\n   <chr>        <dbl>     <dbl>   <dbl> <chr>       <chr>              <dbl>\n 1 CBH01         1994        11       8 813         F                    890\n 2 CBH01         1994        11       8 834         F                   1074\n 3 CBH01         1994        11       8 B-301       F                   1060\n 4 CBH01         1994        11       8 B-402       F                    989\n 5 CBH01         1994        11       8 B-403       F                   1062\n 6 CBH01         1994        11       8 B-502       F                    978\n 7 CBH01         1994        11       8 B-503       F                   1068\n 8 CBH01         1994        11       8 B-504       F                   1024\n 9 CBH01         1994        11       8 B-601       F                    978\n10 CBH01         1994        11       8 B-602       F                   1188\n# ℹ 8,315 more rows\n# ℹ 1 more variable: animal_yob <dbl>\n```\n:::\n:::\n\n\n## Slice\n\nThe base `slice()` function is incredibly similar to normal indexing of a __tibble/data.frame__.\nIts main advantage is that it can be more easily used with [pipes](/dplyr/pipes.qmd).\n\nExtract rows 1 to 5.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbison_tbl |> dplyr::slice(1:5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 8\n  data_code rec_year rec_month rec_day animal_code animal_sex animal_weight\n  <chr>        <dbl>     <dbl>   <dbl> <chr>       <chr>              <dbl>\n1 CBH01         1994        11       8 813         F                    890\n2 CBH01         1994        11       8 834         F                   1074\n3 CBH01         1994        11       8 B-301       F                   1060\n4 CBH01         1994        11       8 B-402       F                    989\n5 CBH01         1994        11       8 B-403       F                   1062\n# ℹ 1 more variable: animal_yob <dbl>\n```\n:::\n:::\n\n\n## Head and tail\n\nExtract the first 6 rows.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbison_tbl |> dplyr::slice_head(n=6)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 8\n  data_code rec_year rec_month rec_day animal_code animal_sex animal_weight\n  <chr>        <dbl>     <dbl>   <dbl> <chr>       <chr>              <dbl>\n1 CBH01         1994        11       8 813         F                    890\n2 CBH01         1994        11       8 834         F                   1074\n3 CBH01         1994        11       8 B-301       F                   1060\n4 CBH01         1994        11       8 B-402       F                    989\n5 CBH01         1994        11       8 B-403       F                   1062\n6 CBH01         1994        11       8 B-502       F                    978\n# ℹ 1 more variable: animal_yob <dbl>\n```\n:::\n:::\n\n\nExtract the last 4 rows.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbison_tbl |> dplyr::slice_tail(n=4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 8\n  data_code rec_year rec_month rec_day animal_code animal_sex animal_weight\n  <chr>        <dbl>     <dbl>   <dbl> <chr>       <chr>              <dbl>\n1 CBH01         2020        10      29 P-080       F                    330\n2 CBH01         2020        10      29 P-081       M                    350\n3 CBH01         2020        10      29 P-082       F                    265\n4 CBH01         2020        10      29 P-083       M                    370\n# ℹ 1 more variable: animal_yob <dbl>\n```\n:::\n:::\n\n\n## Max and min\n\nExtract the 3 observations with the highest animal_weight.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbison_tbl |> dplyr::slice_max(animal_weight, n=3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 8\n  data_code rec_year rec_month rec_day animal_code animal_sex animal_weight\n  <chr>        <dbl>     <dbl>   <dbl> <chr>       <chr>              <dbl>\n1 CBH01         2006        11       6 W-927       M                   2050\n2 CBH01         2005        11       7 W-927       M                   1894\n3 CBH01         1995        11       6 114         M                   1892\n# ℹ 1 more variable: animal_yob <dbl>\n```\n:::\n:::\n\n\nExtract the 9 observations with the lowest animal_weight.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbison_tbl |> dplyr::slice_min(animal_weight, n=9)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 9 × 8\n  data_code rec_year rec_month rec_day animal_code animal_sex animal_weight\n  <chr>        <dbl>     <dbl>   <dbl> <chr>       <chr>              <dbl>\n1 CBH01         2003        11      13 Y-3100      F                     90\n2 CBH01         2003        11      13 Y-3101      M                    100\n3 CBH01         1997        10      31 W-706       F                    112\n4 CBH01         1996        10      25 W-617       F                    118\n5 CBH01         2019        10      24 O-9104      F                    120\n6 CBH01         2004        11      18 Y-432       F                    126\n7 CBH01         1994        11       8 W-437       F                    132\n8 CBH01         2004        11      18 Y-417       F                    134\n9 CBH01         2006        11       6 Y-646       M                    134\n# ℹ 1 more variable: animal_yob <dbl>\n```\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}