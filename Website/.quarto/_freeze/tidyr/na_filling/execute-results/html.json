{
  "hash": "8c4e54724379f3550ffa1945f0358d6b",
  "result": {
    "markdown": "---\ntitle: \"Replace NA\"\n---\n\n\nIt is common to have NAs in your data. \nHowever, sometimes instead of removing them you may want to replace them.\nbelow are three methods to carry this out.\n\n- Replace all NAs in a column with a specific value with `tidyr::replace_na()`. A common example is to replace all NAs with 0.\n- Use the corresponding value of another column to replace NAs. \n\n## Dataset\n\nFor demonstration we'll load the `mammal_sleep_tbl` data from the [mgrtibbles package](/datasets/mgrtibbles.qmd) (hyperlink includes install instructions).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load package\nlibrary(\"mgrtibbles\")\n#mammal_sleep_tbl tibble for demonstration\nmgrtibbles::mammal_sleep_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 62 × 11\n   species          body_wt brain_wt non_dreaming dreaming total_sleep life_span\n   <chr>              <dbl>    <dbl>        <dbl>    <dbl>       <dbl>     <dbl>\n 1 Africanelephant  6.65e+3   5.71           NA       NA           3.3      38.6\n 2 Africangiantpou… 1   e+0   0.0066          6.3      2           8.3       4.5\n 3 ArcticFox        3.38e+0   0.0445         NA       NA          12.5      14  \n 4 Arcticgroundsqu… 9.2 e-1   0.0057         NA       NA          16.5      NA  \n 5 Asianelephant    2.55e+3   4.60            2.1      1.8         3.9      69  \n 6 Baboon           1.06e+1   0.180           9.1      0.7         9.8      27  \n 7 Bigbrownbat      2.3 e-2   0.0003         15.8      3.9        19.7      19  \n 8 Braziliantapir   1.6 e+2   0.169           5.2      1           6.2      30.4\n 9 Cat              3.3 e+0   0.0256         10.9      3.6        14.5      28  \n10 Chimpanzee       5.22e+1   0.44            8.3      1.4         9.7      50  \n# ℹ 52 more rows\n# ℹ 4 more variables: gestation <dbl>, predation <fct>, exposure <fct>,\n#   danger <fct>\n```\n:::\n:::\n\n\n## Replace with a value\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmammal_sleep_tbl |>\n    tidyr::replace_na(list(dreaming=0))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 62 × 11\n   species          body_wt brain_wt non_dreaming dreaming total_sleep life_span\n   <chr>              <dbl>    <dbl>        <dbl>    <dbl>       <dbl>     <dbl>\n 1 Africanelephant  6.65e+3   5.71           NA        0           3.3      38.6\n 2 Africangiantpou… 1   e+0   0.0066          6.3      2           8.3       4.5\n 3 ArcticFox        3.38e+0   0.0445         NA        0          12.5      14  \n 4 Arcticgroundsqu… 9.2 e-1   0.0057         NA        0          16.5      NA  \n 5 Asianelephant    2.55e+3   4.60            2.1      1.8         3.9      69  \n 6 Baboon           1.06e+1   0.180           9.1      0.7         9.8      27  \n 7 Bigbrownbat      2.3 e-2   0.0003         15.8      3.9        19.7      19  \n 8 Braziliantapir   1.6 e+2   0.169           5.2      1           6.2      30.4\n 9 Cat              3.3 e+0   0.0256         10.9      3.6        14.5      28  \n10 Chimpanzee       5.22e+1   0.44            8.3      1.4         9.7      50  \n# ℹ 52 more rows\n# ℹ 4 more variables: gestation <dbl>, predation <fct>, exposure <fct>,\n#   danger <fct>\n```\n:::\n:::\n\n\n## Replace with other column\n\n::: {.cell}\n\n```{.r .cell-code}\nmammal_sleep_tbl |>\n    dplyr::mutate(dreaming = dplyr::coalesce(dreaming, total_sleep))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 62 × 11\n   species          body_wt brain_wt non_dreaming dreaming total_sleep life_span\n   <chr>              <dbl>    <dbl>        <dbl>    <dbl>       <dbl>     <dbl>\n 1 Africanelephant  6.65e+3   5.71           NA        3.3         3.3      38.6\n 2 Africangiantpou… 1   e+0   0.0066          6.3      2           8.3       4.5\n 3 ArcticFox        3.38e+0   0.0445         NA       12.5        12.5      14  \n 4 Arcticgroundsqu… 9.2 e-1   0.0057         NA       16.5        16.5      NA  \n 5 Asianelephant    2.55e+3   4.60            2.1      1.8         3.9      69  \n 6 Baboon           1.06e+1   0.180           9.1      0.7         9.8      27  \n 7 Bigbrownbat      2.3 e-2   0.0003         15.8      3.9        19.7      19  \n 8 Braziliantapir   1.6 e+2   0.169           5.2      1           6.2      30.4\n 9 Cat              3.3 e+0   0.0256         10.9      3.6        14.5      28  \n10 Chimpanzee       5.22e+1   0.44            8.3      1.4         9.7      50  \n# ℹ 52 more rows\n# ℹ 4 more variables: gestation <dbl>, predation <fct>, exposure <fct>,\n#   danger <fct>\n```\n:::\n:::\n\n\n## Replace all NAs\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmammal_sleep_tbl[is.na(mammal_sleep_tbl)] <- 0\nmammal_sleep_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 62 × 11\n   species          body_wt brain_wt non_dreaming dreaming total_sleep life_span\n   <chr>              <dbl>    <dbl>        <dbl>    <dbl>       <dbl>     <dbl>\n 1 Africanelephant  6.65e+3   5.71            0        0           3.3      38.6\n 2 Africangiantpou… 1   e+0   0.0066          6.3      2           8.3       4.5\n 3 ArcticFox        3.38e+0   0.0445          0        0          12.5      14  \n 4 Arcticgroundsqu… 9.2 e-1   0.0057          0        0          16.5       0  \n 5 Asianelephant    2.55e+3   4.60            2.1      1.8         3.9      69  \n 6 Baboon           1.06e+1   0.180           9.1      0.7         9.8      27  \n 7 Bigbrownbat      2.3 e-2   0.0003         15.8      3.9        19.7      19  \n 8 Braziliantapir   1.6 e+2   0.169           5.2      1           6.2      30.4\n 9 Cat              3.3 e+0   0.0256         10.9      3.6        14.5      28  \n10 Chimpanzee       5.22e+1   0.44            8.3      1.4         9.7      50  \n# ℹ 52 more rows\n# ℹ 4 more variables: gestation <dbl>, predation <fct>, exposure <fct>,\n#   danger <fct>\n```\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}