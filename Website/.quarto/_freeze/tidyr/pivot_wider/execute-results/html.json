{
  "hash": "00ca9ca26632608c2c81b4c89bd21968",
  "result": {
    "markdown": "---\ntitle: \"Pivot wider\"\n---\n\n\n<center>\n![](images/tidyr_pivot_wider.png){style=\"width:200px\"}\n</center>\n\nThe function `pivot_wider()` widens data, converting it from long to wide.\n\nWhen data is widened:\n\n- The number of rows decreases.\n- The number of columns increases.\n\nTo widen data two columns are chosen.\n\n- A __names__ column is chosen. These names are used to name the widened columns.\n- A __values__ column is chosen. These values populate the widened columns.\n\n[Tidyverse reference page](https://tidyr.tidyverse.org//reference/pivot_wider.html)\n\n## Dataset\n\nFor demonstration we'll load the `fisheries_long_tbl` data from the [mgrtibbles package](/datasets/mgrtibbles.qmd) (hyperlink includes install instructions).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load package\nlibrary(\"mgrtibbles\")\n#mammal_sleep_tbl tibble for demonstration\nmgrtibbles::fisheries_long_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 14,674 × 3\n   Entity       Year Metric_tons\n   <chr>       <dbl>       <dbl>\n 1 Afghanistan  1969         400\n 2 Afghanistan  1970         400\n 3 Afghanistan  1971         500\n 4 Afghanistan  1972         500\n 5 Afghanistan  1973         500\n 6 Afghanistan  1974         500\n 7 Afghanistan  1975         600\n 8 Afghanistan  1976         600\n 9 Afghanistan  1977         600\n10 Afghanistan  1978         600\n# ℹ 14,664 more rows\n```\n:::\n:::\n\n\n## Long to wide\n\nPivot the __long tibble__ to a __wide tibble__.\n\nThe two options provided below are:\n\n- `names_from=`: Column in long data to use as the widened column __names__.\n- `values_from=`: Column in long data to use as the widened __values__.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfisheries_long_tbl |> tidyr::pivot_wider(names_from=Year, values_from=Metric_tons) |>\n    #View first 11 columns with select\n    dplyr::select(1:11)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 264 × 11\n   Entity  `1969` `1970` `1971` `1972` `1973` `1974` `1975` `1976` `1977` `1978`\n   <chr>    <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n 1 Afgha…     400 4   e2 5   e2 5   e2 5   e2 5   e2 6   e2 6   e2 6   e2 6   e2\n 2 Afric… 3078461 2.48e6 2.36e6 2.63e6 2.78e6 2.74e6 2.49e6 2.20e6 2.16e6 2.12e6\n 3 Afric…  850772 9.61e5 1.13e6 1.20e6 1.20e6 1.24e6 1.28e6 1.26e6 1.29e6 1.31e6\n 4 Alban…    7000 8   e3 8   e3 8   e3 8.00e3 8.45e3 8.41e3 8.38e3 8.34e3 8.81e3\n 5 Alger…   23150 2.42e4 2.37e4 2.83e4 3.12e4 3.58e4 3.77e4 3.51e4 4.35e4 3.41e4\n 6 Ameri…       0 0      0      0      1   e2 8.2 e1 1.36e2 1.13e2 2.02e2 1.93e2\n 7 Andor…      NA 0      0      0      0      0      0      0      0      0     \n 8 Angola  425200 3.75e5 3.24e5 6.07e5 4.79e5 4.00e5 1.61e5 8.15e4 1.20e5 1.26e5\n 9 Antig…     800 9   e2 9   e2 1.2 e3 1.5 e3 1.59e3 1.60e3 1.61e3 1.82e3 1.62e3\n10 Arab …  634609 6.88e5 7.05e5 7.53e5 9.21e5 8.99e5 8.64e5 9.34e5 9.05e5 9.10e5\n# ℹ 254 more rows\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}