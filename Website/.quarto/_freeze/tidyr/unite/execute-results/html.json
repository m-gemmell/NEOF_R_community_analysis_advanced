{
  "hash": "707a80888974945d8e58a0fb42e06be0",
  "result": {
    "markdown": "---\ntitle: \"Unite\"\n---\n\n\n<center>\n![](/tidyr/images/tidyr_unite.png){style=\"width:150px\"}\n</center>\n\nThe `unite()` function combines/pastes multiple string/character columns into one.\nThis can be useful when combing multiple metadata columns into one for analyses/statistics/plotting purposes.\n\n[Tidyverse reference page](https://tidyr.tidyverse.org//reference/pivot_longer.html)\n\n## Dataset\n\nFor demonstration we'll load the `crop_and_soil_tbl` data from the [mgrtibbles package](/datasets/mgrtibbles.qmd) (hyperlink includes install instructions).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load package\nlibrary(\"mgrtibbles\")\n#mammal_sleep_tbl tibble for demonstration\nmgrtibbles::crop_and_soil_tbl |>\n    #Select all but the fourth column\n    dplyr::select(-4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8,000 × 8\n   Soil_type Crop_type Fertiliser Humidity Moisture Nitrogen Potassium\n   <chr>     <chr>     <chr>         <dbl>    <dbl>    <dbl>     <dbl>\n 1 Sandy     Maize     Urea             52       38       37         0\n 2 Loamy     Sugarcane DAP              52       45       12         0\n 3 Black     Cotton    14-35-14         65       62        7         9\n 4 Red       Tobacco   28-28            62       34       22         0\n 5 Clayey    Paddy     Urea             54       46       35         0\n 6 Sandy     Barley    17-17-17         52       35       12        10\n 7 Red       Cotton    20-20            50       64        9         0\n 8 Loamy     Wheat     Urea             64       50       41         0\n 9 Sandy     Millets   28-28            60       42       21         0\n10 Black     Oil seeds 14-35-14         58       33        9         7\n# ℹ 7,990 more rows\n# ℹ 1 more variable: Phosphorous <dbl>\n```\n:::\n:::\n\n\n## Unite columns\n\nUnite 2 columns into one.\nThis will remove the columns to be united.\n\nThe two options below are:\n\n- The name of the new united column (`Crop_fertiliser`).\n- The columns to unite (`Crop_type:Fertiliser`).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrop_and_soil_tbl |>\n    #Select all but the fourth column\n    dplyr::select(-4) |>\n    #Unite the Crop and fertiliser columns\n    tidyr::unite(\"Crop_Fertiliser\", Crop_type:Fertiliser)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8,000 × 7\n   Soil_type Crop_Fertiliser    Humidity Moisture Nitrogen Potassium Phosphorous\n   <chr>     <chr>                 <dbl>    <dbl>    <dbl>     <dbl>       <dbl>\n 1 Sandy     Maize_Urea               52       38       37         0           0\n 2 Loamy     Sugarcane_DAP            52       45       12         0          36\n 3 Black     Cotton_14-35-14          65       62        7         9          30\n 4 Red       Tobacco_28-28            62       34       22         0          20\n 5 Clayey    Paddy_Urea               54       46       35         0           0\n 6 Sandy     Barley_17-17-17          52       35       12        10          13\n 7 Red       Cotton_20-20             50       64        9         0          10\n 8 Loamy     Wheat_Urea               64       50       41         0           0\n 9 Sandy     Millets_28-28            60       42       21         0          18\n10 Black     Oil seeds_14-35-14       58       33        9         7          30\n# ℹ 7,990 more rows\n```\n:::\n:::\n\n\n## Further unite options\n\nWith `tidyr::unite()` you can:\n\n\n- Choose specific columns and their order in the united column with a string vector of the column names.\n- Choose the delimiter/separator for the strings in the united column (`sep=`).\n- Retain the original columns with the option `remove=FALSE`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrop_and_soil_tbl |>\n    #Select all but the fourth column\n    dplyr::select(-4) |>\n    #Unite columns\n    tidyr::unite(\n        #United column name\n        \"Crop.Soil.Fertiliser\",\n        #Columns to unite\n        c(\"Crop_type\",\"Soil_type\",\"Fertiliser\"), \n        #Separator for stings in united column\n        sep=\".\", \n        #Do not remove the original columns to be united\n        remove=FALSE\n        )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8,000 × 9\n   Crop.Soil.Fertiliser     Soil_type Crop_type Fertiliser Humidity Moisture\n   <chr>                    <chr>     <chr>     <chr>         <dbl>    <dbl>\n 1 Maize.Sandy.Urea         Sandy     Maize     Urea             52       38\n 2 Sugarcane.Loamy.DAP      Loamy     Sugarcane DAP              52       45\n 3 Cotton.Black.14-35-14    Black     Cotton    14-35-14         65       62\n 4 Tobacco.Red.28-28        Red       Tobacco   28-28            62       34\n 5 Paddy.Clayey.Urea        Clayey    Paddy     Urea             54       46\n 6 Barley.Sandy.17-17-17    Sandy     Barley    17-17-17         52       35\n 7 Cotton.Red.20-20         Red       Cotton    20-20            50       64\n 8 Wheat.Loamy.Urea         Loamy     Wheat     Urea             64       50\n 9 Millets.Sandy.28-28      Sandy     Millets   28-28            60       42\n10 Oil seeds.Black.14-35-14 Black     Oil seeds 14-35-14         58       33\n# ℹ 7,990 more rows\n# ℹ 3 more variables: Nitrogen <dbl>, Potassium <dbl>, Phosphorous <dbl>\n```\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}