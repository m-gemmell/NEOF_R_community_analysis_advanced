{"title":"Column types","markdown":{"yaml":{"title":"Column types"},"headingText":"Data","containsRefs":false,"markdown":"\n\n<center>\n![](images/readr_column_types.png){style=\"width:200px\"}\n</center>\n\nWhen reading in a file with `readr::delim()` the function will try to infer the type/class of data in each column.\n\nMore info on __tibbles__ and data classes in the [tibble structure page](/tibble/structure.qmd#variablescolumns).\n\nInferring the column types is not always correct and you can choose the column types with the `col_types=` option of the `reader::read_delim()` function.\n\nColumn types can be specified with a compact string of single character representations.\nEach character represents the type of each column, with a number of strings equal to the number of columns (examples below).\nThe characters and their data type are:\n\n- c = character\n- i = integer\n- n = number\n- d = double\n- l = logical\n- f = factor\n- D = date\n- T = date time\n- t = time\n- ? = guess\n- _ or - = skip\n\n```{r, echo=FALSE}\n#Vectors to be used as columns\nIntegers <- as.integer(c(101,21,3.3,0.04))\nDoubles <- as.double(c(0.345,3.14,78.9,20000.9))\nCharacters <- c(\"One\",\"sentence\",\"is\",\"enough\")\nFactors <- as.factor(c(\"A\",\"B\",\"B\",\"A\"))\nLogicals <- c(TRUE,TRUE,FALSE,FALSE)\n#Create a tibble and write to file as CSV\ntibble::tibble(Integers, Doubles, Characters,Factors,Logicals) |>\n    readr::write_delim(\"simple_example.csv\", delim=\",\")\n```\n\nWe'll read in a the file [simple_example.csv](https://neof-workshops.github.io/Tidyverse/data/simple_example.csv) to first specify column types.\n\n### Check file contents\n\nView the file contents before reading it as a __tibble__.\n\n```{r}\nreadLines(\"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\")\n```\n\n## Specify column types\n\nRead in the file specifying the column types.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\",\n    delim = \",\", \n    col_types = \"idcfl\")\n```\n\n## Default inference\n\nBy default the `readr::read_delim()` will infer the data types of the columns.\nIf using this method it is always important to ensure the column types are what you want before further analysis.\n\n### Inference with message\n\nRead in the file and leave `col_types()` to the default inference method (i.e. do not specify the option).\n\nNote there is information on the Column specifications between the Row and Column amounts and the __tibble__ itself.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\",\n    delim = \",\")\n```\n\nOverall it is fairly good but it has:\n\n- Set the __Integers__ column to doubles. Doubles are a safer option to set numbers to than integers (doubles can have decimal points whilst integers cannot). However, in data science we may work with data that we want in whole numbers and therefore want the column to be an integer column, ie. discrete data. Examples of discrete data include number of individuals, items, or game points.\n- Set the __Factors__ column to the characters. Our factors are words which are interpreted as strings.\n\n### Inference without message\n\nI do not find the column specification message to be that useful.\nYou can quiet the message by setting the option `show_col_types = FALSE`.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\",\n    delim = \",\",\n    show_col_types = FALSE)\n```\n\n\n\n\n","srcMarkdownNoYaml":"\n\n<center>\n![](images/readr_column_types.png){style=\"width:200px\"}\n</center>\n\nWhen reading in a file with `readr::delim()` the function will try to infer the type/class of data in each column.\n\nMore info on __tibbles__ and data classes in the [tibble structure page](/tibble/structure.qmd#variablescolumns).\n\nInferring the column types is not always correct and you can choose the column types with the `col_types=` option of the `reader::read_delim()` function.\n\nColumn types can be specified with a compact string of single character representations.\nEach character represents the type of each column, with a number of strings equal to the number of columns (examples below).\nThe characters and their data type are:\n\n- c = character\n- i = integer\n- n = number\n- d = double\n- l = logical\n- f = factor\n- D = date\n- T = date time\n- t = time\n- ? = guess\n- _ or - = skip\n\n## Data\n```{r, echo=FALSE}\n#Vectors to be used as columns\nIntegers <- as.integer(c(101,21,3.3,0.04))\nDoubles <- as.double(c(0.345,3.14,78.9,20000.9))\nCharacters <- c(\"One\",\"sentence\",\"is\",\"enough\")\nFactors <- as.factor(c(\"A\",\"B\",\"B\",\"A\"))\nLogicals <- c(TRUE,TRUE,FALSE,FALSE)\n#Create a tibble and write to file as CSV\ntibble::tibble(Integers, Doubles, Characters,Factors,Logicals) |>\n    readr::write_delim(\"simple_example.csv\", delim=\",\")\n```\n\nWe'll read in a the file [simple_example.csv](https://neof-workshops.github.io/Tidyverse/data/simple_example.csv) to first specify column types.\n\n### Check file contents\n\nView the file contents before reading it as a __tibble__.\n\n```{r}\nreadLines(\"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\")\n```\n\n## Specify column types\n\nRead in the file specifying the column types.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\",\n    delim = \",\", \n    col_types = \"idcfl\")\n```\n\n## Default inference\n\nBy default the `readr::read_delim()` will infer the data types of the columns.\nIf using this method it is always important to ensure the column types are what you want before further analysis.\n\n### Inference with message\n\nRead in the file and leave `col_types()` to the default inference method (i.e. do not specify the option).\n\nNote there is information on the Column specifications between the Row and Column amounts and the __tibble__ itself.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\",\n    delim = \",\")\n```\n\nOverall it is fairly good but it has:\n\n- Set the __Integers__ column to doubles. Doubles are a safer option to set numbers to than integers (doubles can have decimal points whilst integers cannot). However, in data science we may work with data that we want in whole numbers and therefore want the column to be an integer column, ie. discrete data. Examples of discrete data include number of individuals, items, or game points.\n- Set the __Factors__ column to the characters. Our factors are words which are interpreted as strings.\n\n### Inference without message\n\nI do not find the column specification message to be that useful.\nYou can quiet the message by setting the option `show_col_types = FALSE`.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/simple_example.csv\",\n    delim = \",\",\n    show_col_types = FALSE)\n```\n\n\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../include/webex.css"],"include-after-body":["../include/webex.js"],"embed-resources":false,"toc":true,"output-file":"column_types.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.340","editor":"source","grid":{"sidebar-width":"200px","body-width":"1000px","margin-width":"200px","gutter-width":"0.75em"},"theme":{"light":["cosmo","../styles.scss"],"dark":["darkly","../styles_dark.scss"]},"mainfont":"Lexend","title":"Column types"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}