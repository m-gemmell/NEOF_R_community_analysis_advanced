{"title":"Misc read options","markdown":{"yaml":{"title":"Misc read options"},"headingText":"File path column","containsRefs":false,"markdown":"\n\n<center>\n![](images/readr_misc_options.png){style=\"width:200px\"}\n</center>\n\nOn top of choosing the delimiter (`delim=`) and the column types (`col_types=`) there are other useful options for `readr::read_delim()`.\n\nThe three covered here are:\n\n- `id=`: Adds an ID column containing the file path. Useful when reading in multiple files and combining the data into one __tibble__.\n- `skip=`: Skips a specified number of lines from the top of the file. Useful if the top of the file contains information (e.g. annotation) on the data that you don't want included in the __tibble__.\n- `n_max=`: Specify the max number of lines/rows to read into the __tibble__. Useful for only getting a small amount of the data for creating/testing/debugging code.\n\n\nThe `id=` option can be used to add an ID column with the file path of the data. The important features of this are:\n\n- The column's name is specified as a string e.g. `id = \"file_path\"`.\n- The file path column is added as the first column to the resulting __tibble__.\n- The string specified as `file=` is used as the values in the created column.\n- The values of the resulting column are identical.\n\n### ID as file path\n\nRead in the file [https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv](https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv) setting \"file_path\" to `id=`.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv\",\n    delim = \",\",\n    id = \"file_path\") |>\n    #Slice and select the first 5 rows and 6 columns\n    dplyr::slice(1:5) |>  dplyr::select(1:6)\n```\n\n### ID as file name\n\nRepeat the above using the functions `dplyr::mutate()` and `basename()` to only contain the file name (i.e. remove the entire file path except the file name).\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv\",\n    delim = \",\",\n    id = \"file_name\") |>\n    #Mutate to only retain file name in the file_name column\n    dplyr::mutate(file_name = basename(file_name)) |>\n    #Slice and select the first 5 rows and 6 columns\n    dplyr::slice(1:5) |>  dplyr::select(1:6)\n```\n\n## Skip lines\n\nData files may contain information related to the data that is not part of the table at the top of the file. \nThe `skip=` option allows the first X lines to be skipped for these data files.\n\nIf these information lines are not skipped it can confuse the parsing of the data based on the delimiter since the information lines will not have the same amount of the delimiter character as the actual data.\n\n### File contents\n\nCheck the top 8 lines of the file: [https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv](https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv).\n\nNotice the first three lines are information and not data lines.\n\n```{r}\nreadLines(\"https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv\", n=8)\n```\n\n### Read in and skip lines\n\nRead in the data skipping the first 3 lines.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv\",\n    delim = \",\",\n    skip = 3) |>\n    #Slice and select the first 5 rows and 6 columns\n    dplyr::slice(1:5) |>  dplyr::select(1:6)\n```\n\n## Max number of lines\n\nIf you have a very large file and only want to read in a specified amount of lines it is best to use `n_max=`.\n\nThis is better than piping to `dplyr::slice()` as it saves the computer from needing to read in the whole file to memory (RAM) only to then slice it.\n\nRead in the first 8 lines from [https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv](https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv).\n\n__Note:__ The header line is not considered for `n_max=` therefore the header line and first 8 rows ar read in.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv\",\n    delim = \",\",\n    n_max = 8) |>\n    #Select the first 6 columns to view\n    dplyr::select(1:6)\n```","srcMarkdownNoYaml":"\n\n<center>\n![](images/readr_misc_options.png){style=\"width:200px\"}\n</center>\n\nOn top of choosing the delimiter (`delim=`) and the column types (`col_types=`) there are other useful options for `readr::read_delim()`.\n\nThe three covered here are:\n\n- `id=`: Adds an ID column containing the file path. Useful when reading in multiple files and combining the data into one __tibble__.\n- `skip=`: Skips a specified number of lines from the top of the file. Useful if the top of the file contains information (e.g. annotation) on the data that you don't want included in the __tibble__.\n- `n_max=`: Specify the max number of lines/rows to read into the __tibble__. Useful for only getting a small amount of the data for creating/testing/debugging code.\n\n## File path column\n\nThe `id=` option can be used to add an ID column with the file path of the data. The important features of this are:\n\n- The column's name is specified as a string e.g. `id = \"file_path\"`.\n- The file path column is added as the first column to the resulting __tibble__.\n- The string specified as `file=` is used as the values in the created column.\n- The values of the resulting column are identical.\n\n### ID as file path\n\nRead in the file [https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv](https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv) setting \"file_path\" to `id=`.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv\",\n    delim = \",\",\n    id = \"file_path\") |>\n    #Slice and select the first 5 rows and 6 columns\n    dplyr::slice(1:5) |>  dplyr::select(1:6)\n```\n\n### ID as file name\n\nRepeat the above using the functions `dplyr::mutate()` and `basename()` to only contain the file name (i.e. remove the entire file path except the file name).\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv\",\n    delim = \",\",\n    id = \"file_name\") |>\n    #Mutate to only retain file name in the file_name column\n    dplyr::mutate(file_name = basename(file_name)) |>\n    #Slice and select the first 5 rows and 6 columns\n    dplyr::slice(1:5) |>  dplyr::select(1:6)\n```\n\n## Skip lines\n\nData files may contain information related to the data that is not part of the table at the top of the file. \nThe `skip=` option allows the first X lines to be skipped for these data files.\n\nIf these information lines are not skipped it can confuse the parsing of the data based on the delimiter since the information lines will not have the same amount of the delimiter character as the actual data.\n\n### File contents\n\nCheck the top 8 lines of the file: [https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv](https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv).\n\nNotice the first three lines are information and not data lines.\n\n```{r}\nreadLines(\"https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv\", n=8)\n```\n\n### Read in and skip lines\n\nRead in the data skipping the first 3 lines.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details_w_info.csv\",\n    delim = \",\",\n    skip = 3) |>\n    #Slice and select the first 5 rows and 6 columns\n    dplyr::slice(1:5) |>  dplyr::select(1:6)\n```\n\n## Max number of lines\n\nIf you have a very large file and only want to read in a specified amount of lines it is best to use `n_max=`.\n\nThis is better than piping to `dplyr::slice()` as it saves the computer from needing to read in the whole file to memory (RAM) only to then slice it.\n\nRead in the first 8 lines from [https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv](https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv).\n\n__Note:__ The header line is not considered for `n_max=` therefore the header line and first 8 rows ar read in.\n\n```{r}\nreadr::read_delim(\n    file = \"https://neof-workshops.github.io/Tidyverse/data/all_plant_details.csv\",\n    delim = \",\",\n    n_max = 8) |>\n    #Select the first 6 columns to view\n    dplyr::select(1:6)\n```"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../include/webex.css"],"include-after-body":["../include/webex.js"],"embed-resources":false,"toc":true,"output-file":"read_misc.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.340","editor":"source","grid":{"sidebar-width":"200px","body-width":"1000px","margin-width":"200px","gutter-width":"0.75em"},"theme":{"light":["cosmo","../styles.scss"],"dark":["darkly","../styles_dark.scss"]},"mainfont":"Lexend","title":"Misc read options"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}